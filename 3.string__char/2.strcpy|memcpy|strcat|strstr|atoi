#include<assert.h>
#include<iostream>
#include<string>
using namespace std;
/*
3.strstr
4.atoi:存在前后为空格（两头堵）
5.字符串拷贝：strcpy和memcpy
7.strcat
*/

//3.strstr
char* mystrstr(char* str, char* sub){
	assert((str != NULL) && (sub != NULL));
	while (*str++ != '\0'){
		char* ptr_str = str; //每查一个节点
		char* ptr_sub = sub;
		//就要进行比较是否相等
		do{
			if (*ptr_sub == '\0')
				return str; //返回第一次查到的首节点
		} while (*ptr_str++ == *ptr_sub++);
	}
	return NULL; //没有查到
}
//4.atoi:存在前后为空格（两头堵）
/*
(1)去除两段的' '
(2)判断左面第一个元素是否为符号:+和-
(3)从左到右，一次取出每个值，再计算:num = num * 10 + (*ch - '0');
*/
int myatoi(char* src){
	assert(src != NULL);
	char* start = src;
	char* end = src + strlen(src) - 1;
	//去除两端的空格
	while (*start++ == ' '); start--; //查找左边起第一个不为' '的元素位置:需要回退一个start--
	while (*end-- == ' '); end++;
	//判断第一个字符是否有符号
	bool flag; //flag=true表示正数
	switch (*start){
	case '-':
		flag = false; start++; break;
	case '+':
		flag = true; start++; break;
	default:
		flag = true;
	}
	const char* ch = start;
	int num = 0;
	while (ch != end + 1){
		num = num * 10 + (*ch - '0');
		ch++;
	}
	if (flag != true)
		return -num;
	return num;
}
//5.字符串拷贝：strcpy和memcpy
char* mystrcpy(char* dst, const char* src){
	assert((dst != NULL) && (src != NULL));
	char* tmp = dst; //备份dst
	while ((*dst++ = *src++) != '\0');
	return tmp; //链式调用
}
void* mymemcpy(void* dst, const void* src, size_t size){
	assert((dst != NULL) && (src != NULL));
	//先保存起始指针
	char* tmp_dst = (char*)dst;
	char* tmp_src = (char*)src;
	while (size--){
		*tmp_dst++ = *tmp_src++;
	}
	return dst;
}

//7.strcat
char* mystrcat(char* dst, const char* src){
	assert((dst != NULL) && (src != NULL));
	char* tmp = dst;//备份
	//查找dst的'\0'位置
	while (*dst != '\0')
		dst++;
	//拼接
	while ((*dst++ = *src++) != '\0');
	return tmp;
}
